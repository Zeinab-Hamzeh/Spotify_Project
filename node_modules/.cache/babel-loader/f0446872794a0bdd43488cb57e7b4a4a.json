{"remainingRequest":"C:\\Users\\zeina\\OneDrive\\Desktop\\spotify_project\\node_modules\\babel-loader\\lib\\index.js!C:\\Users\\zeina\\OneDrive\\Desktop\\spotify_project\\node_modules\\cache-loader\\dist\\cjs.js??ref--1-0!C:\\Users\\zeina\\OneDrive\\Desktop\\spotify_project\\node_modules\\vue-loader-v16\\dist\\index.js??ref--1-1!C:\\Users\\zeina\\OneDrive\\Desktop\\spotify_project\\src\\views\\search\\Search.vue?vue&type=script&lang=js","dependencies":[{"path":"C:\\Users\\zeina\\OneDrive\\Desktop\\spotify_project\\src\\views\\search\\Search.vue","mtime":1655061161065},{"path":"C:\\Users\\zeina\\OneDrive\\Desktop\\spotify_project\\babel.config.js","mtime":1646211679000},{"path":"C:\\Users\\zeina\\OneDrive\\Desktop\\spotify_project\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1654890809405},{"path":"C:\\Users\\zeina\\OneDrive\\Desktop\\spotify_project\\node_modules\\babel-loader\\lib\\index.js","mtime":1654890823809},{"path":"C:\\Users\\zeina\\OneDrive\\Desktop\\spotify_project\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1654890809405},{"path":"C:\\Users\\zeina\\OneDrive\\Desktop\\spotify_project\\node_modules\\vue-loader-v16\\dist\\index.js","mtime":1654890826883}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0IF9hc3luY1RvR2VuZXJhdG9yIGZyb20gIkM6L1VzZXJzL3plaW5hL09uZURyaXZlL0Rlc2t0b3Avc3BvdGlmeV9wcm9qZWN0L25vZGVfbW9kdWxlcy9AYmFiZWwvcnVudGltZS9oZWxwZXJzL2VzbS9hc3luY1RvR2VuZXJhdG9yLmpzIjsKaW1wb3J0IF9zbGljZWRUb0FycmF5IGZyb20gIkM6L1VzZXJzL3plaW5hL09uZURyaXZlL0Rlc2t0b3Avc3BvdGlmeV9wcm9qZWN0L25vZGVfbW9kdWxlcy9AYmFiZWwvcnVudGltZS9oZWxwZXJzL2VzbS9zbGljZWRUb0FycmF5LmpzIjsKaW1wb3J0ICJyZWdlbmVyYXRvci1ydW50aW1lL3J1bnRpbWUuanMiOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy9lcy5yZWdleHAuZXhlYy5qcyI7CmltcG9ydCAiY29yZS1qcy9tb2R1bGVzL2VzLnN0cmluZy5zcGxpdC5qcyI7CmltcG9ydCAiY29yZS1qcy9tb2R1bGVzL2VzLm9iamVjdC50by1zdHJpbmcuanMiOwppbXBvcnQgeyBvbk1vdW50ZWQsIHJlZiB9IGZyb20gJ3Z1ZSc7CmltcG9ydCBTcG90aWZ5U2VydmljZXMgZnJvbSAnQC9zZXJ2aWNlcy9TcG90aWZ5U2VydmljZXMnOwppbXBvcnQgYXhpb3MgZnJvbSAnYXhpb3MnOwpleHBvcnQgZGVmYXVsdCB7CiAgbmFtZTogJ1NlYXJjaCcsCiAgc2V0dXA6IGZ1bmN0aW9uIHNldHVwKCkgewogICAgdmFyIGFydGlzdHMgPSByZWYoe30pOwogICAgdmFyIHNlYXJjaGVkVGVybSA9IHJlZignJyk7IC8vcmV0cmlldmUgdGhlIGFjY2VzcyB0b2tlbiBhbmQgdGhlIHRva2VuIHR5cGUgZnJvbSB0aGUgdXJsCgogICAgdmFyIGdldEF1dGhUb2tlbiA9IGZ1bmN0aW9uIGdldEF1dGhUb2tlbihoYXNoKSB7CiAgICAgIHZhciBuZWVkZWRwYXJhbXMgPSBoYXNoLnN1YnN0cmluZygxKTsKICAgICAgdmFyIHVybHBhcmFtcyA9IG5lZWRlZHBhcmFtcy5zcGxpdCgiJiIpOwogICAgICB2YXIgc3BsaXRwYXJhbXMgPSB1cmxwYXJhbXMucmVkdWNlKGZ1bmN0aW9uIChhY2N1bXVsYXRlciwgY3VycmVudCkgewogICAgICAgIGNvbnNvbGUubG9nKGN1cnJlbnQpOwoKICAgICAgICB2YXIgX2N1cnJlbnQkc3BsaXQgPSBjdXJyZW50LnNwbGl0KCI9IiksCiAgICAgICAgICAgIF9jdXJyZW50JHNwbGl0MiA9IF9zbGljZWRUb0FycmF5KF9jdXJyZW50JHNwbGl0LCAyKSwKICAgICAgICAgICAga2V5ID0gX2N1cnJlbnQkc3BsaXQyWzBdLAogICAgICAgICAgICB2YWx1ZSA9IF9jdXJyZW50JHNwbGl0MlsxXTsKCiAgICAgICAgYWNjdW11bGF0ZXJba2V5XSA9IHZhbHVlOwogICAgICAgIHJldHVybiBhY2N1bXVsYXRlcjsKICAgICAgfSwge30pOwogICAgICByZXR1cm4gc3BsaXRwYXJhbXM7CiAgICB9OwoKICAgIG9uTW91bnRlZCggLyojX19QVVJFX18qL19hc3luY1RvR2VuZXJhdG9yKCAvKiNfX1BVUkVfXyovcmVnZW5lcmF0b3JSdW50aW1lLm1hcmsoZnVuY3Rpb24gX2NhbGxlZSgpIHsKICAgICAgdmFyIF9nZXRBdXRoVG9rZW4sIGFjY2Vzc190b2tlbiwgZXhwaXJlc19pbiwgdG9rZW5fdHlwZTsKCiAgICAgIHJldHVybiByZWdlbmVyYXRvclJ1bnRpbWUud3JhcChmdW5jdGlvbiBfY2FsbGVlJChfY29udGV4dCkgewogICAgICAgIHdoaWxlICgxKSB7CiAgICAgICAgICBzd2l0Y2ggKF9jb250ZXh0LnByZXYgPSBfY29udGV4dC5uZXh0KSB7CiAgICAgICAgICAgIGNhc2UgMDoKICAgICAgICAgICAgICB0cnkgewogICAgICAgICAgICAgICAgaWYgKHdpbmRvdy5sb2NhdGlvbi5oYXNoKSB7CiAgICAgICAgICAgICAgICAgIF9nZXRBdXRoVG9rZW4gPSBnZXRBdXRoVG9rZW4od2luZG93LmxvY2F0aW9uLmhhc2gpLCBhY2Nlc3NfdG9rZW4gPSBfZ2V0QXV0aFRva2VuLmFjY2Vzc190b2tlbiwgZXhwaXJlc19pbiA9IF9nZXRBdXRoVG9rZW4uZXhwaXJlc19pbiwgdG9rZW5fdHlwZSA9IF9nZXRBdXRoVG9rZW4udG9rZW5fdHlwZTsKICAgICAgICAgICAgICAgICAgbG9jYWxTdG9yYWdlLmNsZWFyKCk7CiAgICAgICAgICAgICAgICAgIGxvY2FsU3RvcmFnZS5zZXRJdGVtKCJhY2Nlc3NUb2tlbiIsIGFjY2Vzc190b2tlbik7CiAgICAgICAgICAgICAgICAgIGxvY2FsU3RvcmFnZS5zZXRJdGVtKCJ0b2tlblR5cGUiLCB0b2tlbl90eXBlKTsKICAgICAgICAgICAgICAgICAgbG9jYWxTdG9yYWdlLnNldEl0ZW0oImV4cGlyZXNJbiIsIGV4cGlyZXNfaW4pOyAvL3NldCBheGlvcyBoZWFkZXIgKGF1dGhvcml6YXRpb24pCgogICAgICAgICAgICAgICAgICBheGlvcy5kZWZhdWx0cy5oZWFkZXJzLmNvbW1vblsnQXV0aG9yaXphdGlvbiddID0gIkJlYXJlciAiLmNvbmNhdChsb2NhbFN0b3JhZ2UuZ2V0SXRlbSgnYWNjZXNzVG9rZW4nKSk7CiAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgfSBjYXRjaCAoZSkgewogICAgICAgICAgICAgICAgY29uc29sZS5sb2coIldlIGVuY291bnRlcmVkIHRoZSBmb2xsb3dpbmcgZXJyb3I6ICIpOwogICAgICAgICAgICAgICAgY29uc29sZS5sb2coZSk7CiAgICAgICAgICAgICAgfQoKICAgICAgICAgICAgY2FzZSAxOgogICAgICAgICAgICBjYXNlICJlbmQiOgogICAgICAgICAgICAgIHJldHVybiBfY29udGV4dC5zdG9wKCk7CiAgICAgICAgICB9CiAgICAgICAgfQogICAgICB9LCBfY2FsbGVlKTsKICAgIH0pKSk7IC8vc2VhcmNoIGZvciBhcnRpc3RzCgogICAgZnVuY3Rpb24gc2VhcmNoZm9yQXJ0aXN0KCkgewogICAgICByZXR1cm4gX3NlYXJjaGZvckFydGlzdC5hcHBseSh0aGlzLCBhcmd1bWVudHMpOwogICAgfQoKICAgIGZ1bmN0aW9uIF9zZWFyY2hmb3JBcnRpc3QoKSB7CiAgICAgIF9zZWFyY2hmb3JBcnRpc3QgPSBfYXN5bmNUb0dlbmVyYXRvciggLyojX19QVVJFX18qL3JlZ2VuZXJhdG9yUnVudGltZS5tYXJrKGZ1bmN0aW9uIF9jYWxsZWUyKCkgewogICAgICAgIHZhciByZXNwb25zZTsKICAgICAgICByZXR1cm4gcmVnZW5lcmF0b3JSdW50aW1lLndyYXAoZnVuY3Rpb24gX2NhbGxlZTIkKF9jb250ZXh0MikgewogICAgICAgICAgd2hpbGUgKDEpIHsKICAgICAgICAgICAgc3dpdGNoIChfY29udGV4dDIucHJldiA9IF9jb250ZXh0Mi5uZXh0KSB7CiAgICAgICAgICAgICAgY2FzZSAwOgogICAgICAgICAgICAgICAgY29uc29sZS5sb2coImhpIik7CiAgICAgICAgICAgICAgICBjb25zb2xlLmxvZyhzZWFyY2hlZFRlcm0udmFsdWUpOwogICAgICAgICAgICAgICAgcmVzcG9uc2UgPSBheGlvcy5nZXQoImh0dHBzOi8vYXBpLnNwb3RpZnkuY29tL3YxL3NlYXJjaD9xdWVyeT0iLmNvbmNhdChzZWFyY2hlZFRlcm0udmFsdWUsICImdHlwZT1hcnRpc3QiKSk7CiAgICAgICAgICAgICAgICBfY29udGV4dDIubmV4dCA9IDU7CiAgICAgICAgICAgICAgICByZXR1cm4gcmVzcG9uc2U7CgogICAgICAgICAgICAgIGNhc2UgNToKICAgICAgICAgICAgICAgIGFydGlzdHMudmFsdWUgPSBfY29udGV4dDIuc2VudC5kYXRhOwogICAgICAgICAgICAgICAgY29uc29sZS5sb2coYXJ0aXN0cy52YWx1ZSk7CgogICAgICAgICAgICAgIGNhc2UgNzoKICAgICAgICAgICAgICBjYXNlICJlbmQiOgogICAgICAgICAgICAgICAgcmV0dXJuIF9jb250ZXh0Mi5zdG9wKCk7CiAgICAgICAgICAgIH0KICAgICAgICAgIH0KICAgICAgICB9LCBfY2FsbGVlMik7CiAgICAgIH0pKTsKICAgICAgcmV0dXJuIF9zZWFyY2hmb3JBcnRpc3QuYXBwbHkodGhpcywgYXJndW1lbnRzKTsKICAgIH0KCiAgICByZXR1cm4gewogICAgICBnZXRBdXRoVG9rZW46IGdldEF1dGhUb2tlbiwKICAgICAgYXJ0aXN0czogYXJ0aXN0cywKICAgICAgc2VhcmNoZWRUZXJtOiBzZWFyY2hlZFRlcm0sCiAgICAgIHNlYXJjaGZvckFydGlzdDogc2VhcmNoZm9yQXJ0aXN0CiAgICB9OwogIH0KfTs="},{"version":3,"mappings":";;;;;;AAUA,SAASA,SAAT,EAAoBC,GAApB,QAA8B,KAA9B;AACA,OAAOC,eAAP,MAA4B,4BAA5B;AACA,OAAOC,KAAP,MAAkB,OAAlB;AACA,eAAe;AACbC,MAAI,EAAE,QADO;AAEbC,OAFa,mBAEN;AAEL,QAAIC,OAAM,GAAIL,GAAG,CAAC,EAAD,CAAjB;AACA,QAAIM,YAAW,GAAIN,GAAG,CAAC,EAAD,CAAtB,CAHK,CAKL;;AACA,QAAIO,YAAW,GAAI,SAAfA,YAAe,CAACC,IAAD,EAAU;AAC7B,UAAIC,YAAW,GAAID,IAAI,CAACE,SAAL,CAAe,CAAf,CAAnB;AACA,UAAIC,SAAQ,GAAIF,YAAY,CAACG,KAAb,CAAmB,GAAnB,CAAhB;AACA,UAAMC,WAAU,GAAIF,SAAS,CAACG,MAAV,CAAiB,UAACC,WAAD,EAAcC,OAAd,EAA0B;AAC7DC,eAAO,CAACC,GAAR,CAAYF,OAAZ;;AACA,6BAAmBA,OAAO,CAACJ,KAAR,CAAc,GAAd,CAAnB;AAAA;AAAA,YAAKO,GAAL;AAAA,YAAUC,KAAV;;AACAL,mBAAW,CAACI,GAAD,CAAX,GAAmBC,KAAnB;AACA,eAAOL,WAAP;AACD,OALmB,EAKjB,EALiB,CAApB;AAOA,aAAOF,WAAP;AAEC,KAZD;;AAcAd,aAAS,uEAAC;AAAA;;AAAA;AAAA;AAAA;AAAA;AACR,kBAAG;AACD,oBAAGsB,MAAM,CAACC,QAAP,CAAgBd,IAAnB,EAAwB;AAAA,kCACyBD,YAAY,CAACc,MAAM,CAACC,QAAP,CAAgBd,IAAjB,CADrC,EACfe,YADe,iBACfA,YADe,EACDC,UADC,iBACDA,UADC,EACWC,UADX,iBACWA,UADX;AAEtBC,8BAAY,CAACC,KAAb;AACAD,8BAAY,CAACE,OAAb,CAAqB,aAArB,EAAoCL,YAApC;AACAG,8BAAY,CAACE,OAAb,CAAqB,WAArB,EAAkCH,UAAlC;AACAC,8BAAY,CAACE,OAAb,CAAqB,WAArB,EAAkCJ,UAAlC,EALsB,CAOtB;;AACAtB,uBAAK,CAAC2B,QAAN,CAAeC,OAAf,CAAuBC,MAAvB,CAA8B,eAA9B,qBAA2DL,YAAY,CAACM,OAAb,CAAqB,aAArB,CAA3D;AACF;AAGD,eAbD,CAaC,OAAMC,CAAN,EAAQ;AACPhB,uBAAO,CAACC,GAAR,CAAY,sCAAZ;AACAD,uBAAO,CAACC,GAAR,CAAYe,CAAZ;AACF;;AAjBQ;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KAAD,GAAT,CApBK,CAwCL;;AAxCK,aAyCUC,eAzCV;AAAA;AAAA;;AAAA;AAAA,iFAyCL;AAAA;AAAA;AAAA;AAAA;AAAA;AACEjB,uBAAO,CAACC,GAAR,CAAY,IAAZ;AACAD,uBAAO,CAACC,GAAR,CAAYZ,YAAY,CAACc,KAAzB;AACIe,wBAHN,GAGiBjC,KAAK,CAACkC,GAAN,mDAAqD9B,YAAY,CAACc,KAAlE,kBAHjB;AAAA;AAAA,uBAIyBe,QAJzB;;AAAA;AAIE9B,uBAAO,CAACe,KAJV,kBAImCiB,IAJnC;AAKEpB,uBAAO,CAACC,GAAR,CAAYb,OAAO,CAACe,KAApB;;AALF;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OAzCK;AAAA;AAAA;;AAmDL,WAAO;AAAEb,kBAAY,EAAZA,YAAF;AAAgBF,aAAO,EAAPA,OAAhB;AAAyBC,kBAAY,EAAZA,YAAzB;AAAuC4B,qBAAe,EAAfA;AAAvC,KAAP;AAEF;AAvDa,CAAf","names":["onMounted","ref","SpotifyServices","axios","name","setup","artists","searchedTerm","getAuthToken","hash","neededparams","substring","urlparams","split","splitparams","reduce","accumulater","current","console","log","key","value","window","location","access_token","expires_in","token_type","localStorage","clear","setItem","defaults","headers","common","getItem","e","searchforArtist","response","get","data"],"sourceRoot":"","sources":["C:\\Users\\zeina\\OneDrive\\Desktop\\spotify_project\\src\\views\\search\\Search.vue"],"sourcesContent":["<template>\r\n  <div>\r\n    <div class=\"input-group d-flex align-items-center\" id=\"searchGroup\">\r\n      <input type=\"search\" class=\"form-control text-center\" placeholder=\"Search for an artist...\" id=\"searchInput\" v-model=\"searchedTerm\" @change=\"searchforArtist()\" />\r\n      <i class=\"fa fa-search\"></i>\r\n    </div>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nimport  {onMounted, ref} from 'vue';\r\nimport SpotifyServices from '@/services/SpotifyServices';\r\nimport axios from 'axios';\r\nexport default {\r\n  name: 'Search',\r\n  setup(){\r\n\r\n    var artists = ref({});\r\n    var searchedTerm = ref('');\r\n\r\n    //retrieve the access token and the token type from the url\r\n    var getAuthToken = (hash) => {\r\n    var neededparams = hash.substring(1);\r\n    var urlparams = neededparams.split(\"&\");\r\n    const splitparams = urlparams.reduce((accumulater, current) => {\r\n      console.log(current);\r\n      var [key, value] = current.split(\"=\");\r\n      accumulater[key] = value;\r\n      return accumulater;\r\n    }, {});\r\n\r\n    return splitparams;\r\n\r\n    };\r\n\r\n    onMounted(async ()=> {\r\n      try{\r\n        if(window.location.hash){\r\n          const {access_token, expires_in, token_type} = getAuthToken(window.location.hash);\r\n          localStorage.clear();\r\n          localStorage.setItem(\"accessToken\", access_token);\r\n          localStorage.setItem(\"tokenType\", token_type);\r\n          localStorage.setItem(\"expiresIn\", expires_in);    \r\n          \r\n          //set axios header (authorization)\r\n          axios.defaults.headers.common['Authorization'] = `Bearer ${localStorage.getItem('accessToken')}`;\r\n        }\r\n      \r\n        \r\n      }catch(e){\r\n        console.log(\"We encountered the following error: \");\r\n        console.log(e);\r\n      }\r\n    });\r\n\r\n    //search for artists\r\n    async function searchforArtist(){\r\n      console.log(\"hi\");\r\n      console.log(searchedTerm.value);\r\n      let response = axios.get(`https://api.spotify.com/v1/search?query=${searchedTerm.value}&type=artist`);\r\n      artists.value = (await response).data;\r\n      console.log(artists.value);\r\n    }\r\n\r\n\r\n\r\n    return { getAuthToken, artists, searchedTerm, searchforArtist}\r\n\r\n  }\r\n}\r\n</script>\r\n\r\n<style>\r\n\r\n#searchGroup{\r\n  width: 33%;\r\n  border: 1px solid #B1B1B1;\r\n  border-radius: 0.25rem;\r\n  padding: 6px;\r\n  margin: 0;\r\n  position: absolute;\r\n  top: 50%;\r\n  left: 50%;\r\n  transform: translate(-50%, -50%);\r\n}\r\n\r\n#searchGroup>i{\r\n  color: #B1B1B1;\r\n  margin-right: 20px;\r\n}\r\n\r\n#searchInput{\r\n  border: none;\r\n  margin: 3px;\r\n}\r\n\r\n#searchInput:focus{\r\n  box-shadow: none;\r\n  border: none;\r\n}\r\n\r\n\r\n</style>\r\n"]}]}